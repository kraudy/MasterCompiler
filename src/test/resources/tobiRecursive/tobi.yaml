# Global defaults for ILE/IFS consistency
defaults:
  TGTRLS: CURRENT
  DBGVIEW: ALL
  OPTION: EVENTF
  REPLACE: YES
  TGTCCSID: JOB

before:
  CrtBndDir:
    BNDDIR: SAMPLE

after: 
  DltObj: 
    OBJ: SAMPLE
    OBJTYPE: BndDir

failure: 
  DltObj: 
    OBJ: SAMPLE
    OBJTYPE: BndDir

# Just resolveconflict for DBGVIEW:[[INIT], *SOURCE, *ALL] not valid *ALL for CRTSQLRPGI

targets:
  # Simple rpgle compilation
  curlib.ADDnum.pgm.rpgle:
    params:
      SRCSTMF: tobiRecursive/QRPGLESRC/ADDNUM.RPGLE
  
  # Files used by reference
  curlib.SAMREF.PF.dds:
    params:
      SRCSTMF: tobiRecursive/common/SAMREF.PF.dds

  curlib.vatdef.pf.dds:
    params:
      SRCSTMF: tobiRecursive/functionsVAT/vatdef.pf.dds

  # ART200 compilation context
  curlib.ARTICLE.pf.dds: # PF of ART200
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/ARTICLE.pf.dds

  curlib.ARTICLE1.lf.dds: # LF of ARTICLE
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/ARTICLE1.lf.dds

  curlib.ARTICLE2.lf.dds: # LF of ARTICLE
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/ARTICLE2.lf.dds

  curlib.ART200D.dspf.dds: # DSPF of ART200
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/ART200D.dspf.dds

  curlib.FAMILLY.PF.dds: # PF of module FAM300
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/FAMILLY.PF.dds
  
  curlib.FAMILL1.LF.dds: # LF of PF FAMILLY
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/FAMILL1.LF.dds

  curlib.FAM300.module.RPGLE: # Module of FFAMILLY SrvPgm
    params:
      SRCSTMF: tobiRecursive/QRPGLESRC/FAM300.module.RPGLE

  curlib.FAM301D.DSPF.dds: # DSPF of module FAM301
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/FAM301D.DSPF.dds

  curlib.FAM301.module.RPGLE: # Module of FFAMILLY SrvPgm
    params:
      SRCSTMF: tobiRecursive/QRPGLESRC/FAM301.module.RPGLE

  curlib.FFAMILLY.srvpgm.BND: # SrvPgm of ART200
    params:
      SRCSTMF: tobiRecursive/QSRVSRC/FFAMILLY.srvpgm.BND
      MODULE:
        - FAM300
        - FAM301

  curlib.ART200.pgm.sqlrpgle: # Pgm
    before:
      AddBndDirE:   # Add srvpgm required by ART200
        BndDir: SAMPLE
        Obj: FFAMILLY

    params:
      SRCSTMF: tobiRecursive/QRPGLESRC/ART200.pgm.sqlrpgle

  # Context of ART201
  curlib.PROVIDER.PF.dds:
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/PROVIDER.PF.dds

  curlib.PROVIDE1.LF.dds:
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/PROVIDE1.LF.dds

  curlib.ARTIPROV.PF.dds: # PF of ART201
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/ARTIPROV.PF.dds

  curlib.ARTIPRO1.LF.dds: # LF of ARTIPROV
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/ARTIPRO1.LF.dds

  curlib.ART201D.dspf.dds: # DSPF of PGM ART201
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/ART201D.dspf.dds

  curlib.ART300.module.rpgle: # Module of FARTICLE SrvPgm
    params:
      SRCSTMF: tobiRecursive/QRPGLESRC/ART300.module.rpgle

  curlib.ART301D.dspf.dds: # DSPF of ART301
    params:
      SRCSTMF: tobiRecursive/QDDSSRC/ART301D.dspf.dds

  curlib.ART301.module.SQLRPGLE: # Module of FARTICLE SrvPgm
    params:
      SRCSTMF: tobiRecursive/QRPGLESRC/ART301.module.SQLRPGLE

  curlib.FARTICLE.srvpgm.BND: # SrvPgm of ART201
    params:
      SRCSTMF: tobiRecursive/QSRVSRC/FARTICLE.srvpgm.BND
      MODULE:
        - ART300
        - ART301
      BNDSRVPGM: FFAMILLY
      TEXT: Function Article

  curlib.PRO300.module.RPGLE:
    params:
      SRCSTMF: tobiRecursive/QRPGLESRC/PRO300.module.RPGLE

  curlib.FPROVIDER.srvpgm.BND:
    params:
      SRCSTMF: tobiRecursive/QSRVSRC/FPROVIDER.srvpgm.BND
      MODULE: PRO300
      TEXT: Functions Provider

  curlib.ART201.pgm.rpgle: 
    before:
      AddBndDirE:   # Add srvpgm required by ART201
        BndDir: SAMPLE
        Obj: 
          - FARTICLE
          - FPROVIDER

    params:
      SRCSTMF: tobiRecursive/QRPGLESRC/ART201.pgm.rpgle