before:
  CrtBndDir:
    BNDDIR: BNDHELLO

targets:  
  "curlib.hello.module.rpgle":
    params:
      SRCSTMF: sources/rpgle/hello.module.rpgle

  curlib.bye.module.rpgle:
    params:
      SRCSTMF: sources/rpgle/bye.module.rpgle

  "curlib.srvhello.srvpgm.bnd":
    params:
      SRCSTMF: sources/rpgle/srvhello.srvpgm.bnd
      MODULE:
        - HELLO
        - BYE

  curlib.HELLO.pgm.rpgle:
    before:
      AddBndDirE:
        BndDir: BNDHELLO
        Obj: SRVHELLO

    params:
      SRCSTMF: sources/rpgle/hello.pgm.rpgle
      TEXT: Hello from integration test

after: 
  DltObj: 
    OBJ: BNDHELLO
    OBJTYPE: BndDir

failure: 
  DltObj: 
    OBJ: BNDHELLO
    OBJTYPE: BndDir
